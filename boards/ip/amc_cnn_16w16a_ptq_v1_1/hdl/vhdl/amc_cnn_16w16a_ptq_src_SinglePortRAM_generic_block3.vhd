-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/model_pqt_2x2_w16a16/amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block3.vhd
-- Created: 2025-02-19 19:19:31
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block3
-- Source Path: model_pqt_2x2_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 2/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block3 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block3;


ARCHITECTURE rtl OF amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block3 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"0143", X"e16f", X"126e", X"fa93", X"02ca", X"1565", X"0129", X"fada", X"e99c", X"ebfe", X"ed11", X"f087", X"fafa", X"0b8b",
                                                        X"fa2f", X"f67e", X"070a", X"05a0", X"09cd", X"f4cb", X"f5d1", X"0569", X"01bd", X"f37f", X"04ac", X"f2b0", X"ff70", X"f884",
                                                        X"fe78", X"072e", X"ed69", X"0b04", X"13a7", X"f440", X"fc73", X"fa8a", X"078f", X"f96d", X"f569", X"f04e", X"1011", X"f073",
                                                        X"fb83", X"f8ed", X"01a7", X"0551", X"0ebb", X"e36e", X"f6f1", X"08c5", X"fb56", X"05ef", X"0136", X"f48b", X"0200", X"085f",
                                                        X"0515", X"fa17", X"fc39", X"e062", X"fc37", X"f2a7", X"0c1f", X"f9b3", X"059e", X"e4d6", X"f9ec", X"003f", X"0ea2", X"ffdd",
                                                        X"04c2", X"f32f", X"0d8c", X"0a16", X"0444", X"0392", X"f6a1", X"081f", X"0346", X"0f0f", X"1350", X"e12a", X"0672", X"fb40",
                                                        X"f7e7", X"0ab3", X"f03d", X"02a1", X"048b", X"0432", X"1039", X"0611", X"dce6", X"f2ab", X"1180", X"fbba", X"04c1", X"0ff6",
                                                        X"fd0d", X"facd", X"0cfd", X"0b7d", X"e047", X"f30c", X"0ae4", X"fe45", X"fc39", X"0ff7", X"1003", X"0269", X"fb0c", X"0711",
                                                        X"046f", X"feea", X"0db7", X"003a", X"0693", X"e579", X"04ee", X"e7d8", X"f2bb", X"f7e2", X"062c", X"03b3", X"e12f", X"0368",
                                                        X"113f", X"f308");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"f308";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

