-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/model_pqt_2x2_w16a16/amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block4.vhd
-- Created: 2025-02-19 19:19:31
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block4
-- Source Path: model_pqt_2x2_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 3/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block4 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block4;


ARCHITECTURE rtl OF amc_cnn_16w16a_ptq_src_SinglePortRAM_generic_block4 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"00e1", X"dc48", X"18e9", X"fe2d", X"0514", X"1836", X"0513", X"fb14", X"e18b", X"ec9e", X"e9e7", X"ec16", X"f80f", X"0bd8",
                                                        X"f902", X"f6de", X"03b6", X"0585", X"0b1b", X"f55a", X"f61d", X"069f", X"0135", X"f409", X"fa58", X"f3a5", X"0081", X"f731",
                                                        X"ffcb", X"0921", X"fd3a", X"0a96", X"1755", X"02f1", X"0312", X"0280", X"07c1", X"f9e5", X"01fd", X"f018", X"14ec", X"f120",
                                                        X"fbc3", X"f939", X"fc03", X"04e1", X"1172", X"e4cd", X"f6e8", X"0248", X"0693", X"01d0", X"032d", X"f654", X"0a93", X"08d5",
                                                        X"0679", X"fef8", X"fcef", X"dfbb", X"fd9b", X"f16a", X"106a", X"f62d", X"0798", X"e2c2", X"fa92", X"fc2c", X"111a", X"067f",
                                                        X"053e", X"f5fe", X"1274", X"0a6a", X"022a", X"fc26", X"f731", X"0d08", X"02f0", X"12da", X"18c5", X"df81", X"044a", X"fb50",
                                                        X"f502", X"0bdc", X"f162", X"0706", X"075b", X"0401", X"132e", X"03bb", X"d805", X"f30e", X"14be", X"fa08", X"04ef", X"143b",
                                                        X"fcc7", X"f8c3", X"0ddd", X"0ac6", X"dfb3", X"f495", X"0d21", X"fe89", X"fcac", X"12ed", X"1347", X"0247", X"fd0c", X"096d",
                                                        X"06a4", X"fb7b", X"0ddb", X"0002", X"f9b8", X"e3d3", X"026b", X"e68b", X"f89f", X"f808", X"04ed", X"fe4d", X"df43", X"0413",
                                                        X"1553", X"f3b4");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"f3b4";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

