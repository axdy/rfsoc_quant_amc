-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/model_qat_2x2_w16a16/amc_cnn_qat_16w16a_src_SinglePortRAM_generic_block2.vhd
-- Created: 2025-02-27 17:51:51
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_qat_16w16a_src_SinglePortRAM_generic_block2
-- Source Path: model_qat_2x2_w16a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 1/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_qat_16w16a_src_SinglePortRAM_generic_block2 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_qat_16w16a_src_SinglePortRAM_generic_block2;


ARCHITECTURE rtl OF amc_cnn_qat_16w16a_src_SinglePortRAM_generic_block2 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"10f9", X"feb3", X"009e", X"cfc3", X"05f9", X"f3f2", X"0411", X"1ec5", X"0b3b", X"2fea", X"3d9f", X"f595", X"3359", X"1718",
                                                        X"2891", X"0173", X"fea9", X"d3a4", X"fe29", X"fd8b", X"1322", X"f868", X"e311", X"ee9d", X"d124", X"efd1", X"feee", X"0784",
                                                        X"152c", X"fad0", X"2043", X"f983", X"f049", X"caba", X"2978", X"1cf3", X"26c6", X"147b", X"0541", X"d195", X"268b", X"0199",
                                                        X"14ab", X"0577", X"0a50", X"d58e", X"f2cd", X"0957", X"fb63", X"1001", X"0633", X"f41d", X"0946", X"d09c", X"fc86", X"1e36",
                                                        X"f6a2", X"040e", X"cfeb", X"20b1", X"fe7a", X"d0e0", X"1511", X"ed8e", X"fb41", X"06b4", X"ebc5", X"0506", X"3060", X"e15d",
                                                        X"d1cf", X"d011", X"fbd1", X"ebe5", X"f68d", X"f628", X"2caf", X"00c2", X"cfd3", X"0116", X"f479", X"1049", X"0229", X"03a1",
                                                        X"0612", X"1173", X"d468", X"e669", X"03d6", X"06e0", X"1aeb", X"f2df", X"cb89", X"0a7f", X"df2c", X"eaa4", X"ebf7", X"26fb",
                                                        X"1e90", X"edf7", X"1cad", X"d100", X"fa22", X"f354", X"052f", X"f4f0", X"d64a", X"1f1f", X"fbd5", X"e5eb", X"05ec", X"1b25",
                                                        X"ffbb", X"20ed", X"04ef", X"04f8", X"0e8a", X"2793", X"14bb", X"14de", X"ed8f", X"0130", X"2f7f", X"e8ac", X"fede", X"0862",
                                                        X"002e", X"019f");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"019f";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

