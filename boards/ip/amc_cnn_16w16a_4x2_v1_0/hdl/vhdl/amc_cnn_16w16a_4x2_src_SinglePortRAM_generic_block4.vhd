-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16_4x2/amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block4.vhd
-- Created: 2024-11-04 16:44:08
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block4
-- Source Path: amc_model_w16a16_4x2/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 3/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block4 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block4;


ARCHITECTURE rtl OF amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block4 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"f837", X"0b61", X"fbab", X"0403", X"e0c9", X"0407", X"ef66", X"eef5", X"f59f", X"ff9d", X"f928", X"0a4b", X"0971", X"fba3",
                                                        X"f304", X"0aef", X"08d5", X"e61b", X"f5e9", X"eb13", X"fbeb", X"fa6a", X"f54b", X"f72e", X"035e", X"fd2d", X"07a0", X"fc44",
                                                        X"01e6", X"fbd3", X"ecc3", X"05ac", X"e903", X"0037", X"f706", X"0803", X"0d86", X"0bc9", X"e2ed", X"0d99", X"f0a2", X"0448",
                                                        X"02dd", X"eb44", X"fa50", X"0681", X"f080", X"e006", X"03fa", X"00d4", X"fd90", X"04ce", X"f16d", X"e5ff", X"00f5", X"02db",
                                                        X"fcae", X"fd25", X"f8d1", X"d66a", X"e77c", X"fab8", X"0158", X"0c3c", X"fc56", X"f725", X"f124", X"0571", X"fe87", X"03f7",
                                                        X"f955", X"f534", X"fe00", X"0982", X"fb45", X"01d8", X"057d", X"e48e", X"facb", X"f226", X"ff6b", X"f637", X"fc18", X"02d8",
                                                        X"e102", X"f83d", X"0491", X"0573", X"ec63", X"0489", X"fcb8", X"f8b8", X"f6f1", X"0439", X"fe11", X"0664", X"ff10", X"f714",
                                                        X"09d1", X"ea41", X"e3a8", X"0f63", X"096e", X"f80a", X"fa74", X"ff74", X"f9b7", X"f11e", X"d300", X"f9c9", X"fa42", X"f36b",
                                                        X"0910", X"00d1", X"f893", X"f53d", X"fc4f", X"f094", X"042b", X"e7b9", X"fa6d", X"0d6b", X"0090", X"e98f", X"ef83", X"0950",
                                                        X"ff50", X"fcbc");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"fcbc";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

