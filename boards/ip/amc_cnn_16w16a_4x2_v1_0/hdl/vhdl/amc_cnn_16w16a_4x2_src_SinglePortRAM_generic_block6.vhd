-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/amc_model_w16a16_4x2/amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block6.vhd
-- Created: 2024-11-04 16:44:08
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block6
-- Source Path: amc_model_w16a16_4x2/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 5/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block6 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block6;


ARCHITECTURE rtl OF amc_cnn_16w16a_4x2_src_SinglePortRAM_generic_block6 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"f4f3", X"1c52", X"fc11", X"0302", X"d7d6", X"011e", X"f150", X"f735", X"f125", X"0ede", X"f6d9", X"ee4d", X"fb05", X"f655",
                                                        X"1180", X"1bb9", X"feee", X"1a4b", X"0341", X"17ce", X"f84e", X"0d4e", X"f666", X"fca9", X"ff40", X"fae9", X"1b65", X"fcad",
                                                        X"f34b", X"faff", X"dd41", X"f6ac", X"1415", X"fe5f", X"ef56", X"f064", X"19a0", X"071e", X"1266", X"164c", X"0985", X"f223",
                                                        X"017a", X"fee2", X"ec87", X"f289", X"f65e", X"13a9", X"f73b", X"f98b", X"0931", X"fe00", X"03f7", X"1a18", X"fe84", X"0240",
                                                        X"f6eb", X"eba6", X"feb4", X"10e1", X"f584", X"f9b8", X"f5a1", X"1ab6", X"fb9d", X"f356", X"faa8", X"ff8c", X"f9f4", X"05f1",
                                                        X"fc8b", X"1829", X"fa0d", X"ffd6", X"f632", X"fee4", X"fbaa", X"02a9", X"fb45", X"f611", X"fb71", X"0244", X"f419", X"00ed",
                                                        X"164e", X"15e0", X"fdce", X"046e", X"f729", X"01d6", X"f9a9", X"fa21", X"de50", X"04c4", X"f70f", X"f7a1", X"fd58", X"0284",
                                                        X"00e6", X"179f", X"0b55", X"2189", X"1b8a", X"116a", X"f667", X"fbcf", X"f953", X"0063", X"ff33", X"f558", X"044d", X"0c14",
                                                        X"051c", X"0183", X"fdb1", X"020f", X"152c", X"0622", X"07ac", X"daa4", X"f808", X"2187", X"0337", X"0f6c", X"009b", X"133a",
                                                        X"fcbd", X"0223");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"0223";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

