-- -------------------------------------------------------------
-- 
-- File Name: hdl_prj/hdlsrc/model_pqt_2x2_w8a16/amc_cnn_8w16a_ptq_src_SinglePortRAM_generic_block8.vhd
-- Created: 2025-02-23 13:17:03
-- 
-- Generated by MATLAB 9.8 and HDL Coder 3.16
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: amc_cnn_8w16a_ptq_src_SinglePortRAM_generic_block8
-- Source Path: model_pqt_2x2_w8a16/DUT HDL/Dense Layer 2/Dense Layer 2/Weight Storage 7/SinglePortRAM_generic
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY amc_cnn_8w16a_ptq_src_SinglePortRAM_generic_block8 IS
  GENERIC( AddrWidth                      : integer := 1;
           DataWidth                      : integer := 1
           );
  PORT( clk                               :   IN    std_logic;
        enb                               :   IN    std_logic;
        din                               :   IN    std_logic_vector(DataWidth - 1 DOWNTO 0);  -- generic width
        addr                              :   IN    std_logic_vector(AddrWidth - 1 DOWNTO 0);  -- generic width
        we                                :   IN    std_logic;  -- ufix1
        dout                              :   OUT   std_logic_vector(DataWidth - 1 DOWNTO 0)  -- generic width
        );
END amc_cnn_8w16a_ptq_src_SinglePortRAM_generic_block8;


ARCHITECTURE rtl OF amc_cnn_8w16a_ptq_src_SinglePortRAM_generic_block8 IS

  -- Local Type Definitions
  TYPE ram_type IS ARRAY (2**AddrWidth - 1 DOWNTO 0) of std_logic_vector(DataWidth - 1 DOWNTO 0);

  -- Signals
  SIGNAL ram                              : ram_type := (X"f6be", X"1803", X"fdbe", X"e070", X"e430", X"0382", X"0110", X"233e", X"f5bf", X"074b", X"33e4", X"00b6", X"fd10", X"2f17",
                                                        X"cf5b", X"e83f", X"eeca", X"001a", X"31fc", X"ee50", X"f72e", X"f6d3", X"16b7", X"084a", X"e6d5", X"1599", X"ee19", X"dab0",
                                                        X"f9b3", X"053a", X"326e", X"f68e", X"fe35", X"f33e", X"fb8f", X"0328", X"f9bf", X"0c31", X"10c2", X"f7a8", X"e91f", X"f457",
                                                        X"eeac", X"f591", X"f521", X"f1e8", X"fcef", X"e928", X"f4e9", X"f45c", X"18cb", X"ef30", X"fcd7", X"fab9", X"f7a2", X"0074",
                                                        X"f0f3", X"ef5e", X"e0d1", X"fcc4", X"fae8", X"23af", X"e70f", X"327e", X"e7ca", X"f9a9", X"e2b8", X"f7c8", X"fccc", X"efc4",
                                                        X"fcde", X"014c", X"ebbb", X"31c2", X"fb7a", X"04ae", X"f081", X"fcef", X"ec25", X"03ca", X"f8c3", X"17f6", X"340d", X"f00f",
                                                        X"d548", X"02f4", X"f336", X"ffe6", X"0336", X"ffc4", X"e5dc", X"fd46", X"e9a7", X"3467", X"eb94", X"2cf0", X"ed41", X"f365",
                                                        X"f4c3", X"fd08", X"152f", X"dda6", X"f0b1", X"f223", X"1711", X"fe78", X"f84a", X"145c", X"eb83", X"ed67", X"f82e", X"2e8d",
                                                        X"05c8", X"0ce1", X"08a7", X"e70e", X"0299", X"191f", X"f57d", X"15a5", X"ef43", X"f393", X"02fa", X"e689", X"2ac8", X"1a11",
                                                        X"f9c8", X"fbbb");
  SIGNAL data_int                         : std_logic_vector(DataWidth - 1 DOWNTO 0) := X"fbbb";
  SIGNAL addr_unsigned                    : unsigned(AddrWidth - 1 DOWNTO 0);  -- generic width

BEGIN
  addr_unsigned <= unsigned(addr);

  SinglePortRAM_generic_process: PROCESS (clk)
  BEGIN
    IF clk'event AND clk = '1' THEN
      IF enb = '1' THEN
        IF we = '1' THEN
          ram(to_integer(addr_unsigned)) <= din;
          data_int <= din;
        ELSE
          data_int <= ram(to_integer(addr_unsigned));
        END IF;
      END IF;
    END IF;
  END PROCESS SinglePortRAM_generic_process;

  dout <= data_int;

END rtl;

